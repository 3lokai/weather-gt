import { Meta } from '@storybook/addon-docs/blocks';
import { TokenPlayground } from './components/TokenPlayground';

<Meta title="Foundations/Playground" />

# Interactive Token Playground

The Interactive Token Playground allows you to experiment with different token combinations in real-time. You can modify colors, typography, spacing, and border radius values to see how they affect the design system.

## Features

- **Real-time editing**: See changes instantly as you type
- **Token validation**: Automatic validation of token values
- **Export functionality**: Copy token values for use in your code
- **Reset to defaults**: Restore original token values
- **Save/Load**: Save custom token sets for later use
- **Preview components**: See how tokens affect actual components

## How to Use

1. **Select a token category** from the sidebar (Colors, Typography, Spacing, Radius)
2. **Edit token values** using the input fields or color pickers
3. **See real-time preview** of how changes affect the design
4. **Export values** to copy for use in your project
5. **Reset to defaults** if you want to start over
6. **Save custom sets** for future reference

## Token Categories

### Colors
- Primary, secondary, and accent color palettes
- Semantic colors (success, warning, error, info)
- Neutral grays and UI element colors
- Live color picker with OKLCH support

### Typography
- Font families and weights
- Typography scale (4XL to XS)
- Line heights and letter spacing
- Live typography preview

### Spacing
- Spacing scale from 0 to 96
- Component spacing patterns
- Layout spacing guidelines
- Visual spacing examples

### Border Radius
- Radius scale from xs to 3xl
- Component radius examples
- Special radius values (full for circles)
- Visual radius preview

## Component Preview

The playground includes live previews of common components:

- **Buttons**: See how color and spacing changes affect button appearance
- **Cards**: Preview card styling with different radius and spacing values
- **Typography**: Test typography changes with real text examples
- **Forms**: See how spacing and radius affect form elements
- **Weather Components**: Preview weather-specific components

## Export Options

### CSS Custom Properties
```css
:root {
  --primary: oklch(0.4500 0.1800 264.0000);
  --secondary: oklch(0.4200 0.1600 300.0000);
  --accent: oklch(0.7500 0.1800 65.0000);
  /* ... more tokens */
}
```

### Tailwind Config
```javascript
module.exports = {
  theme: {
    extend: {
      colors: {
        primary: {
          50: 'oklch(0.9600 0.0200 264.0000)',
          500: 'oklch(0.4500 0.1800 264.0000)',
          // ... more colors
        }
      }
    }
  }
}
```

### Design Token JSON
```json
{
  "colors": {
    "primary": {
      "50": "oklch(0.9600 0.0200 264.0000)",
      "500": "oklch(0.4500 0.1800 264.0000)"
    }
  },
  "spacing": {
    "4": "1rem",
    "6": "1.5rem"
  }
}
```

## Best Practices

### Color Combinations
- Ensure sufficient contrast ratios (4.5:1 for normal text, 3:1 for large text)
- Test colors in both light and dark modes
- Use semantic colors consistently across the application
- Consider color blindness and accessibility

### Typography
- Maintain consistent hierarchy with heading sizes
- Ensure adequate line height for readability
- Test typography at different screen sizes
- Use appropriate font weights for emphasis

### Spacing
- Use consistent spacing patterns throughout the application
- Ensure adequate touch targets (minimum 44px)
- Test spacing on different screen sizes
- Maintain visual rhythm with consistent spacing

### Border Radius
- Use appropriate radius values for different component types
- Maintain consistency within component categories
- Consider the overall design aesthetic
- Test radius values on different screen sizes

## Accessibility Considerations

### Color Accessibility
- All color combinations must meet WCAG AA contrast requirements
- Test with color blindness simulators
- Provide alternative indicators beyond color
- Ensure focus indicators are visible

### Typography Accessibility
- Maintain minimum font sizes (16px for body text)
- Ensure adequate line height (minimum 1.4)
- Use semantic HTML elements
- Test with screen readers

### Spacing Accessibility
- Ensure adequate touch targets
- Provide sufficient spacing between interactive elements
- Test with keyboard navigation
- Consider users with motor impairments

## Integration with Development

### CSS Custom Properties
The playground generates CSS custom properties that can be directly used in your stylesheets:

```css
/* Generated from playground */
:root {
  --primary: oklch(0.4500 0.1800 264.0000);
  --spacing-4: 1rem;
  --radius-md: 1rem;
}

/* Use in components */
.my-component {
  background-color: var(--primary);
  padding: var(--spacing-4);
  border-radius: var(--radius-md);
}
```

### Tailwind Integration
Export Tailwind configuration for seamless integration:

```javascript
// tailwind.config.js
module.exports = {
  theme: {
    extend: {
      colors: {
        primary: {
          50: 'oklch(0.9600 0.0200 264.0000)',
          500: 'oklch(0.4500 0.1800 264.0000)',
        }
      },
      spacing: {
        '4': '1rem',
        '6': '1.5rem',
      },
      borderRadius: {
        'md': '1rem',
        'lg': '1.25rem',
      }
    }
  }
}
```

### Design System Integration
Use the playground to experiment with design system updates:

1. **Test new color palettes** before implementing
2. **Validate spacing changes** across components
3. **Experiment with typography** improvements
4. **Preview radius changes** for component updates

## Troubleshooting

### Common Issues

**Colors not updating**: Ensure you're using the correct token names and OKLCH format
**Spacing not applying**: Check that spacing values are valid CSS units
**Typography not changing**: Verify font family names and weight values
**Radius not working**: Ensure radius values are valid CSS units

### Validation

The playground includes automatic validation for:
- OKLCH color format
- CSS unit values
- Font family names
- Spacing values
- Radius values

### Browser Support

The playground works in all modern browsers that support:
- CSS custom properties
- OKLCH color space
- ES6+ JavaScript features
- CSS Grid and Flexbox

<TokenPlayground />
